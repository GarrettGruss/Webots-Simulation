#VRML_SIM R2025a utf8

EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/objects/backgrounds/protos/TexturedBackground.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/objects/backgrounds/protos/TexturedBackgroundLight.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/objects/floors/protos/RectangleArena.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/appearances/protos/BrushedAluminium.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/objects/balls/protos/Ball.proto"
EXTERNPROTO "../protos/linearActuator.proto"

WorldInfo {
  optimalThreadCount 8
  contactProperties [
    ContactProperties {
      material1 "high_friction_wheel"
      coulombFriction [
        0.4
      ]
      bounce 0
    }
  ]
}
Viewpoint {
  orientation 0.004999863473872127 0.010365424549214453 0.9999337774768674 5.384281766792702
  position -1.9970344889897482 2.663714867951356 0.6444033935035636
  follow "robot"
}
TexturedBackground {
}
TexturedBackgroundLight {
}
RectangleArena {
  floorSize 10 10
  floorTileSize 1 1
  wallHeight 1
}
Ball {
  translation 0.38 0 1.5925
  radius 0.205
}
Robot {
  translation 0.0111246 5.1261e-07 0.325713
  rotation -0.03709331611786788 -0.003989023464898968 -0.9993038444793337 0.00041684231989750785
  children [
    linearActuator {
      endJoint "grabber_solid"
    }
    Pose {
      translation 0.37 0 0.08
      rotation 0 -1 0 1.5707963267948968
      children [
        Shape {
          appearance PBRAppearance {
            baseColor 0.666667 0 0
            roughness 1
            metalness 0
          }
          geometry Sphere {
            radius 0.05
          }
        }
        HingeJoint {
          jointParameters HingeJointParameters {
            axis 0 1 0
            minStop -0.1
            maxStop 1
            dampingConstant 0.5
          }
          device [
            RotationalMotor {
              name "grabber_attitude"
              maxTorque 100
            }
          ]
          endPoint Solid {
            rotation 0 1 0 0
            children [
              DEF GRABBER_GEOMETRY Group {
                children [
                  Pose {
                    translation 0.558 -0.23 0.11
                    children [
                      Shape {
                        appearance BrushedAluminium {
                        }
                        geometry Box {
                          size 0.1524 0.003175 0.46
                        }
                      }
                    ]
                  }
                  Pose {
                    translation 0.558 -3.69866e-17 0.34
                    rotation 1 0 0 1.5707963267948968
                    children [
                      Shape {
                        appearance BrushedAluminium {
                        }
                        geometry Box {
                          size 0.1524 0.003175 0.46
                        }
                      }
                    ]
                  }
                  Pose {
                    translation 0.558 0.23 0.11
                    children [
                      Shape {
                        appearance BrushedAluminium {
                        }
                        geometry Box {
                          size 0.1524 0.003175 0.46
                        }
                      }
                    ]
                  }
                  Pose {
                    translation 0.508 0 0.11
                    children [
                      Shape {
                        appearance BrushedAluminium {
                        }
                        geometry Box {
                          size 0.0508 0.4572 0.46
                        }
                      }
                    ]
                  }
                  Pose {
                    translation 0.47 0 0
                    children [
                      DEF GRABBER_WIDTH Shape {
                        appearance BrushedAluminium {
                        }
                        geometry Box {
                          size 0.0254 0.4064 0.0254
                        }
                      }
                    ]
                  }
                  Pose {
                    translation 0.229 -0.215 0
                    children [
                      DEF GRABBER_LENGTH Shape {
                        appearance BrushedAluminium {
                        }
                        geometry Box {
                          size 0.508 0.0254 0.0254
                        }
                      }
                    ]
                  }
                  Pose {
                    translation 0.229 0.215 0
                    children [
                      USE GRABBER_LENGTH
                    ]
                  }
                ]
              }
              Pose {
                translation 0.4 0 0
                children [
                  HingeJoint {
                    jointParameters HingeJointParameters {
                      axis 0 1 0
                      dampingConstant 0.5
                    }
                    device [
                      RotationalMotor {
                        name "grabber_roller_motor"
                      }
                    ]
                    endPoint Solid {
                      rotation 1 0 0 1.5707963267948968
                      children [
                        DEF GRABBER_ROLLER_GEOMETRY Shape {
                          appearance PBRAppearance {
                            baseColor 0 0.666667 0
                            roughness 0.8
                            metalness 0.1
                          }
                          geometry Cylinder {
                            height 0.28
                            radius 0.03
                          }
                        }
                      ]
                      boundingObject USE GRABBER_ROLLER_GEOMETRY
                      physics Physics {
                        mass 0.2
                      }
                    }
                  }
                ]
              }
            ]
            name "grabber_solid"
            boundingObject USE GRABBER_GEOMETRY
            physics Physics {
              mass 5
            }
          }
        }
      ]
    }
    HingeJoint {
      jointParameters HingeJointParameters {
        position 0.4156366003705947
        axis 0 1 0
        anchor 0.29 0.25 0
        dampingConstant 1
      }
      device [
        DEF Motor RotationalMotor {
          name "front_left_motor"
          maxVelocity 30
          maxTorque 30
        }
      ]
      endPoint DEF WHEEL1 Solid {
        translation 0.29 0.25 0
        rotation 1 -1.1775693440128302e-16 3.925231146709434e-17 1.5707963267948981
        children [
          DEF WHEEL Shape {
            appearance PBRAppearance {
              baseColorMap ImageTexture {
                url [
                  "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/appearances/protos/textures/tire_rubber/car_tire_rubber_base_color.jpg"
                ]
              }
              roughnessMap ImageTexture {
                url [
                  "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/appearances/protos/textures/tire_rubber/car_tire_rubber_roughness.jpg"
                ]
              }
              metalness 0
              normalMap ImageTexture {
                url [
                  "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/appearances/protos/textures/tire_rubber/car_tire_rubber_normal.jpg"
                ]
              }
              normalMapFactor 8
              occlusionMap ImageTexture {
                url [
                  "https://raw.githubusercontent.com/cyberbotics/webots/R2023b/projects/appearances/protos/textures/tire_rubber/car_tire_rubber_occlusion.jpg"
                ]
              }
              occlusionMapStrength 8
            }
            geometry Cylinder {
              height 0.05
              radius 0.0762
              subdivision 32
            }
          }
        ]
        name "front_left_motor"
        contactMaterial ""
        boundingObject USE WHEEL
        physics DEF WHEEL_PH Physics {
          density -1
          mass 0.8
        }
      }
    }
    HingeJoint {
      jointParameters HingeJointParameters {
        position 0.41563665647878545
        axis 0 1 0
        anchor -0.29 0.25 0
        dampingConstant 1
      }
      device [
        RotationalMotor {
          name "rear_left_motor"
          maxVelocity 30
          maxTorque 30
        }
      ]
      endPoint Solid {
        translation -0.29 0.25 0
        rotation 1 0 0 1.5707963267948968
        children [
          USE WHEEL
        ]
        name "rear_left_motor"
        contactMaterial ""
        boundingObject USE WHEEL
        physics USE WHEEL_PH
      }
    }
    HingeJoint {
      jointParameters HingeJointParameters {
        position 0.41563665647878545
        axis 0 1 0
        anchor 0 0.25 -0.003175
        dampingConstant 1
      }
      device [
        RotationalMotor {
          name "middle_left_motor"
          maxVelocity 30
          maxTorque 30
        }
      ]
      endPoint Solid {
        translation 0 0.25 -0.003175
        rotation 1 0 0 1.5707963267948968
        children [
          USE WHEEL
        ]
        name "middle_left_motor"
        contactMaterial ""
        boundingObject USE WHEEL
        physics USE WHEEL_PH
      }
    }
    HingeJoint {
      jointParameters HingeJointParameters {
        position 0.1385732245580487
        axis 0 1 0
        anchor -0.29 -0.25 0
        dampingConstant 1
      }
      device [
        RotationalMotor {
          name "rear_right_motor"
          maxVelocity 30
          maxTorque 30
        }
      ]
      endPoint Solid {
        translation -0.29 -0.25 0
        rotation 1 3.925231146709438e-17 0 1.5707963267948966
        children [
          USE WHEEL
        ]
        name "rear_right_motor"
        contactMaterial ""
        boundingObject USE WHEEL
        physics USE WHEEL_PH
      }
    }
    HingeJoint {
      jointParameters HingeJointParameters {
        position 0.1385732245580487
        axis 0 1 0
        anchor 0 -0.25 -0.003175
        dampingConstant 1
      }
      device [
        RotationalMotor {
          name "middle_right_motor"
          maxVelocity 30
          maxTorque 30
        }
      ]
      endPoint Solid {
        translation 0 -0.25 -0.003175
        rotation 1 -1.962615573354719e-17 0 1.5707963267948966
        children [
          USE WHEEL
        ]
        name "middle_right_motor"
        contactMaterial ""
        boundingObject USE WHEEL
        physics USE WHEEL_PH
      }
    }
    HingeJoint {
      jointParameters HingeJointParameters {
        position 0.13857319605454727
        axis 0 1 0
        anchor 0.29 -0.25 0
        dampingConstant 1
      }
      device [
        RotationalMotor {
          name "front_right_motor"
          maxVelocity 30
          maxTorque 30
        }
      ]
      endPoint Solid {
        translation 0.29 -0.25 0
        rotation 1 4.906538933386797e-17 0 1.5707963267948966
        children [
          USE WHEEL
        ]
        name "front_right_motor"
        contactMaterial ""
        boundingObject USE WHEEL
        physics USE WHEEL_PH
      }
    }
    Solid {
      children [
        DEF CHASSIS_GEOMETRY Group {
          children [
            Pose {
              translation 0 0.32655 0
              children [
                Shape {
                  appearance BrushedAluminium {
                  }
                  geometry DEF ROBOT Box {
                    size 0.813 0.02 0.0762
                  }
                }
              ]
            }
            Pose {
              translation 0 -0.32655 0
              children [
                Shape {
                  appearance BrushedAluminium {
                  }
                  geometry DEF ROBOT Box {
                    size 0.813 0.02 0.0762
                  }
                }
              ]
            }
            Pose {
              translation 0.3965 0 0
              children [
                Shape {
                  appearance BrushedAluminium {
                  }
                  geometry DEF ROBOT Box {
                    size 0.02 0.633 0.0762
                  }
                }
              ]
            }
            Pose {
              translation -0.3965 0 0
              children [
                Shape {
                  appearance BrushedAluminium {
                  }
                  geometry DEF ROBOT Box {
                    size 0.02 0.633 0.0762
                  }
                }
              ]
            }
          ]
        }
      ]
      name "chassis"
      boundingObject USE CHASSIS_GEOMETRY
      physics Physics {
        density -1
        mass 30
      }
    }
  ]
  boundingObject USE ROBOT
  physics Physics {
    density -1
    mass 5
  }
  controller "joystickControl"
}
